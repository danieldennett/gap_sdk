<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Team synchronization primitives</title>
<title>Team synchronization primitives</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="pulp.css" rel="stylesheet" type="text/css" />
<link href="gap.css" rel="stylesheet" type="text/css" />
<link href="images.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="titlerow">
  <td id="projectlogo"><img alt="Logo" src="gap-logo-55.png" /></td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief">FreeRTOS port on GAP8/RISC-V</div>
    </td>
  <td id="extralogo"><img alt="GreenWaves" src="greenwaves-logo-55.png" /></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__Team.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Team synchronization primitives</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5794ffc121cc284b7178cb5b5b457a04"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Team.html#ga5794ffc121cc284b7178cb5b5b457a04">pi_cl_team_fork</a> (int nb_cores, void(*entry)(void *), void *arg)</td></tr>
<tr class="memdesc:ga5794ffc121cc284b7178cb5b5b457a04"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fork the execution of the calling core.  <a href="#ga5794ffc121cc284b7178cb5b5b457a04">More...</a><br /></td></tr>
<tr class="separator:ga5794ffc121cc284b7178cb5b5b457a04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa714268b6bcb2a6fabefc8ebcefc5483"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Team.html#gaa714268b6bcb2a6fabefc8ebcefc5483">pi_cl_team_barrier</a> (int barrier_id)</td></tr>
<tr class="memdesc:gaa714268b6bcb2a6fabefc8ebcefc5483"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a barrier between all cores of the team.  <a href="#gaa714268b6bcb2a6fabefc8ebcefc5483">More...</a><br /></td></tr>
<tr class="separator:gaa714268b6bcb2a6fabefc8ebcefc5483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa0f65a5820cb9661bf39ffd34d36ae69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Team.html#gaa0f65a5820cb9661bf39ffd34d36ae69">pi_cl_team_critical_enter</a> ()</td></tr>
<tr class="memdesc:gaa0f65a5820cb9661bf39ffd34d36ae69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enter a critical section.  <a href="#gaa0f65a5820cb9661bf39ffd34d36ae69">More...</a><br /></td></tr>
<tr class="separator:gaa0f65a5820cb9661bf39ffd34d36ae69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1475fa068e910ed17519d0fc414b78e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Team.html#ga1475fa068e910ed17519d0fc414b78e2">pi_cl_team_critical_exit</a> ()</td></tr>
<tr class="memdesc:ga1475fa068e910ed17519d0fc414b78e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Exit a critical section.  <a href="#ga1475fa068e910ed17519d0fc414b78e2">More...</a><br /></td></tr>
<tr class="separator:ga1475fa068e910ed17519d0fc414b78e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad85546f51f75251680623ad3143a5489"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Team.html#gad85546f51f75251680623ad3143a5489">pi_cl_team_nb_cores</a> ()</td></tr>
<tr class="memdesc:gad85546f51f75251680623ad3143a5489"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the number of cores in the team.  <a href="#gad85546f51f75251680623ad3143a5489">More...</a><br /></td></tr>
<tr class="separator:gad85546f51f75251680623ad3143a5489"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga417f1316928b2b8f984b4c5a44154693"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Team.html#ga417f1316928b2b8f984b4c5a44154693">team_nb_cores</a></td></tr>
<tr class="separator:ga417f1316928b2b8f984b4c5a44154693"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Once a cluster entry point has been entered, after it has been enqueued by the fabric controller, all the following primitives can be used to do multi-core processing, in a fork-join manner (like OMP parallel primitive).</p>
<p>The execution can first be forked in order to activate more cores, and then synchronized together using barriers. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaa714268b6bcb2a6fabefc8ebcefc5483"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa714268b6bcb2a6fabefc8ebcefc5483">&#9670;&nbsp;</a></span>pi_cl_team_barrier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pi_cl_team_barrier </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>barrier_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This will block the execution of each calling core until all cores have reached the barrier. The set of cores participating in the barrier is the one created with the last fork. Each core of the team must execute the barrier exactly once for all cores to be able to go through the barrier. </p>

<p class="reference">References <a class="el" href="group__CMSIS__core__base.html#ga2dc91e5c66b9a919a2cf6bd040b41685">EU_BARRIER_DEMUX</a>, and <a class="el" href="group__event__unit.html#ga060cca74548d470d15ab50f9450396a2">hal_evt_read32()</a>.</p>

</div>
</div>
<a id="gaa0f65a5820cb9661bf39ffd34d36ae69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa0f65a5820cb9661bf39ffd34d36ae69">&#9670;&nbsp;</a></span>pi_cl_team_critical_enter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pi_cl_team_critical_enter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This will block the execution of the calling core until it can execute the following section of code alone. This will also prevent all other cores of the team to execute the following code until rt_team_critical_exit is called. </p>

<p class="reference">References <a class="el" href="group__event__unit.html#gad8b4600365f480218c50dd4b16276326">hal_eu_mutex_lock()</a>.</p>

</div>
</div>
<a id="ga1475fa068e910ed17519d0fc414b78e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1475fa068e910ed17519d0fc414b78e2">&#9670;&nbsp;</a></span>pi_cl_team_critical_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pi_cl_team_critical_exit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This will exit the critical code and let other cores executing it.. </p>

<p class="reference">References <a class="el" href="group__event__unit.html#ga9e917ed4288dccbc4beec49b7c62b85f">hal_eu_mutex_unlock()</a>.</p>

</div>
</div>
<a id="ga5794ffc121cc284b7178cb5b5b457a04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5794ffc121cc284b7178cb5b5b457a04">&#9670;&nbsp;</a></span>pi_cl_team_fork()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pi_cl_team_fork </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nb_cores</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>arg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calling this function will create a team of workers and call the specified entry point to start multi-core processing. The team parameters (number of cores and stacks) are by default the ones configured when calling the cluster entry point from the fabric controller. It is possible to use different parameters when doing a new fork. If this is done the new parameters will become the new default ones. If the number of cores is not provided (i.e. is zero), the number of cores of the previous fork will be reused. Doing this has less runtime overhead.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cores_mask</td><td>The mask of cores which will enter the entry point. If it is zero, this will reuse the cores_mask of the previous fork or the default. </td></tr>
    <tr><td class="paramname">entry</td><td>The function entry point to be executed by all cores of the team. </td></tr>
    <tr><td class="paramname">arg</td><td>The argument of the function entry point. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="GAP9_2properties_8h.html#a3ea7f986582c5e4e7a44c3a4cfc08bbc">ARCHI_CLUSTER_NB_PE</a>, <a class="el" href="group__event__unit.html#gac12b0ef56adbcb8c26b185d9be6c083b">hal_eu_barrier_setup()</a>, <a class="el" href="group__event__unit.html#ga779b04c8da97408fdc73a5204027871e">hal_eu_barrier_trigger_wait_clear()</a>, <a class="el" href="group__event__unit.html#ga48122f1715e9dd238d21b106c93672d3">hal_eu_dispatch_push()</a>, <a class="el" href="group__event__unit.html#gae3ac328cf8eb3ff9cb039fd144d9be71">hal_eu_dispatch_team_config()</a>, and <a class="el" href="group__Team.html#ga417f1316928b2b8f984b4c5a44154693">team_nb_cores</a>.</p>

<p class="reference">Referenced by <a class="el" href="fc__to__cl__delegate_8c.html#a88c44011bd612990f1307eb30630d84e">cl_stack_init()</a>.</p>

</div>
</div>
<a id="gad85546f51f75251680623ad3143a5489"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad85546f51f75251680623ad3143a5489">&#9670;&nbsp;</a></span>pi_cl_team_nb_cores()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int pi_cl_team_nb_cores </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This will return the number of cores involved in the team created by the active fork operation. </p><dl class="section return"><dt>Returns</dt><dd>The number of cores of the team. </dd></dl>

<p class="reference">References <a class="el" href="group__Team.html#ga417f1316928b2b8f984b4c5a44154693">team_nb_cores</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga417f1316928b2b8f984b4c5a44154693"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga417f1316928b2b8f984b4c5a44154693">&#9670;&nbsp;</a></span>team_nb_cores</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t team_nb_cores</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="group__Team.html#ga5794ffc121cc284b7178cb5b5b457a04">pi_cl_team_fork()</a>, and <a class="el" href="group__Team.html#gad85546f51f75251680623ad3143a5489">pi_cl_team_nb_cores()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Feb 12 2020 11:11:33 for  by GreenWaves Technologies
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 
	-->
	</li>
  </ul>
</div>
</body>
</html>
