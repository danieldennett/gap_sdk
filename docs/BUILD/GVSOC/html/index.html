<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>GVSOC Virtual Platform</title>
<title>GVSOC Virtual Platform</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="pulp.css" rel="stylesheet" type="text/css" />
<link href="gap.css" rel="stylesheet" type="text/css" />
<link href="images.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="titlerow">
  <td id="projectlogo"><img alt="Logo" src="gap-logo-55.png" /></td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief">GVSOC Virtual Platform</div>
    </td>
  <td id="extralogo"><img alt="GreenWaves" src="greenwaves-logo-55.png" /></td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="CMSISnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">GVSOC Virtual Platform </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="section0"></a>
Introduction</h1>
<p>GVSOC is a lightweight and flexible instruction set simulator which can simulate GreenWaves' GAP8 IoT application processor. GVSOC allows execution of programs on a virtual platform without any hardware limits. Thanks to device models, full application with real device drivers can be simulated. Currently, we provide simulations of devices such as cameras, microphones, LCDs, etc.</p>
<p>Hereafter you will find a very brief introduction of GVSOC. For further information, please visit: <a href="https://gvsoc.readthedocs.io/en/latest/">https://gvsoc.readthedocs.io/en/latest/</a></p>
<h1><a class="anchor" id="section1"></a>
GVSOC installation</h1>
<p>The installation of gvsoc has been fully integrated into the GAP SDK install process. Once you have folowed the GAP SDK install process, the command "make all" in gap_sdk, will install GVSOC for GAP8 in your SDK. You could of cause install it alternatively by executing the following commands:</p>
<div class="fragment"><div class="line">cd ~/gap_sdk</div><div class="line">make gvsoc</div></div><!-- fragment --><h1><a class="anchor" id="section2"></a>
How to start compiling and running applications on GVSOC</h1>
<p>Before running the applications, please make sure:</p>
<ul>
<li>The toolchain has been installed successfully.</li>
<li>The SDK has been built without error.</li>
<li>The shell environment has been configured correctly for the GAP8 SDK.</li>
</ul>
<h2><a class="anchor" id="section3"></a>
How to compile and run the "Hello World” example on GVSOC</h2>
<p>The hello world example gets each core to print out a hello message. We will go through this example in detail so that you can learn how to schedule tasks on the cluster.</p>
<p>Like other examples and applications, this example is located in the "examples" folder:</p>
<div class="fragment"><div class="line">cd examples/pulp-examples/hello_world</div></div><!-- fragment --><p>Then execute this command for compiling and running the example on GVSOC:</p>
<div class="fragment"><div class="line">make clean all run platform=gvsoc</div></div><!-- fragment --><p>Of course, you can also compile and execute the example separately.</p>
<div class="fragment"><div class="line">make clean all</div><div class="line">make run platform=gvsoc</div></div><!-- fragment --><p>In the result, you will see the Hello from all the cores in FC and in Cluster, with their Cluster IDs and Core IDs. All the examples can be built and run with the same procedure.</p>
<h1><a class="anchor" id="section4"></a>
How to run the application with instruction traces</h1>
<p>The virtual platform provides the ability to dump instruction traces to aid in debugging.</p>
<p>To activate this function, you just need to add 1 parameter in your execution command:</p>
<div class="fragment"><div class="line">make run platform=gvsoc  runner_args=&quot;--trace=insn&quot;</div></div><!-- fragment --><h1><a class="anchor" id="section5"></a>
How to run an application with VCD trace</h1>
<p>The virtual platform can also dump VCD traces which show the state of several components over time, like the core’s PC (program counter), DMA transfers, etc. This gives a better overview than instruction traces.</p>
<p>VCD tracing can be activated through the option vcd:</p>
<div class="fragment"><div class="line">make clean all run platform=gvsoc runner_args=&quot;--vcd&quot;</div></div><!-- fragment --><p>Once the platform is run, this will generate a VCD file called all.vcd in the build folder. This file is a raw file containing all the signal values.</p>
<p>Another file called view.gtkw is generated and can be opened using GTKwave. This is a script file which will setup the view with the most interesting signals. The command to be executed is displayed at the beginning of the simulation when VCD traces are enabled.</p>
<h1><a class="anchor" id="section6"></a>
How to do more</h1>
<p>You will find much more options on the GVSOC documentation here: <a href="https://gvsoc.readthedocs.io/en/latest/">https://gvsoc.readthedocs.io/en/latest/</a></p>
<p>The documentation is giving information about the options which can be given to the GVSOC runner. All these options can be passed from the makefile to the runner with the following command, like for instruction or vcd traces:</p>
<div class="fragment"><div class="line">make clean all run platform=gvsoc runner_args=&quot;&lt;GVSOC options&gt;&quot;</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Feb 12 2020 11:11:35 for  by GreenWaves Technologies
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 
	-->
	</li>
  </ul>
</div>
</body>
</html>
