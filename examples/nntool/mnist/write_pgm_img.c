/*
 * Copyright (C) 2020 Bitcraze AB
 * All rights reserved.
 *
 */

// C program to read a BMP Image and  
// write the same into a PGM Image file 
#include <stdio.h> 
  
void main() 
{ 
    int i, j, temp = 0; 
    int width = 13, height = 13; 
  
    // Suppose the 2D Array to be converted to Image is as given below 
    // int image[13][13] = { 
    //   { 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15 }, 
    //   { 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31, 31}, 
    //   { 47, 47, 47, 47, 47, 47, 47, 47, 47, 47, 47, 47, 47}, 
    //   { 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63, 63}, 
    //   { 79, 79, 79, 79, 79, 79, 79, 79, 79, 79, 79, 79, 79}, 
    //   { 95, 95, 95, 95, 95, 95, 95, 95, 95, 95, 95, 95, 95 }, 
    //   { 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111, 111}, 
    //   { 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127, 127}, 
    //   { 143, 143, 143, 143, 143, 143, 143, 143, 143, 143, 143, 143, 143}, 
    //   { 159, 159, 159, 159, 159, 159, 159, 159, 159, 159, 159, 159, 159}, 
    //   { 175, 175, 175, 175, 175, 175, 175, 175, 175, 175, 175, 175, 175}, 
    //   { 191, 191, 191, 191, 191, 191, 191, 191, 191, 191, 191, 191, 191}, 
    //   { 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207, 207} 
    // }; 

    int image[50][50] = {
        {000, 000, 000, 000, 000, 000, 000, 000, 001, 001, 001, 001, 008, 006, 003, 005, 003, 006, 002, 009, 003, 007, 003, 010, 002, 008, 003, 008, 005, 008, 003, 007, 005, 007, 003, 009, 003, 007, 005, 006, 002, 009, 004, 010, 003, 008, 003, 011, 004, 010}, 
        {006, 010, 003, 009, 006, 009, 004, 010, 004, 010, 004, 008, 004, 010, 004, 009, 004, 010, 006, 010, 004, 012, 006, 011, 005, 011, 006, 012, 004, 011, 004, 012, 006, 011, 007, 015, 005, 016, 006, 014, 005, 013, 005, 013, 005, 013, 007, 013, 005, 015}, 
        {006, 015, 005, 015, 004, 018, 006, 015, 007, 015, 006, 014, 007, 013, 004, 015, 007, 016, 005, 014, 006, 018, 007, 013, 005, 018, 008, 015, 005, 017, 007, 017, 008, 017, 008, 018, 007, 014, 005, 016, 007, 018, 006, 016, 006, 017, 006, 017, 007, 016}, 
        {006, 018, 007, 018, 006, 019, 006, 016, 006, 021, 007, 018, 006, 018, 006, 017, 006, 019, 007, 018, 010, 019, 006, 019, 008, 018, 007, 019, 005, 019, 006, 021, 007, 018, 007, 022, 006, 018, 006, 016, 007, 016, 008, 019, 007, 016, 009, 017, 005, 019}, 
        {008, 019, 008, 017, 008, 018, 006, 017, 006, 018, 008, 019, 007, 016, 007, 017, 007, 017, 007, 016, 007, 017, 006, 016, 005, 016, 009, 016, 008, 018, 007, 017, 006, 015, 006, 017, 006, 016, 007, 017, 005, 017, 007, 014, 005, 014, 007, 013, 006, 015}, 
        {005, 016, 005, 014, 005, 019, 005, 015, 004, 017, 008, 015, 007, 014, 007, 014, 004, 015, 005, 014, 005, 015, 004, 014, 006, 014, 007, 012, 005, 013, 006, 014, 005, 013, 004, 010, 004, 012, 005, 011, 003, 012, 005, 010, 005, 010, 004, 011, 004, 010}, 
        {004, 010, 006, 011, 004, 011, 003, 010, 004, 010, 004, 009, 005, 009, 003, 008, 004, 008, 003, 007, 003, 008, 002, 007, 002, 010, 002, 007, 004, 008, 003, 006, 003, 005, 004, 006, 006, 023, 005, 024, 007, 024, 005, 026, 007, 025, 007, 027, 007, 028}, 
        {008, 030, 011, 029, 007, 030, 009, 034, 008, 032, 007, 033, 008, 033, 012, 035, 010, 034, 008, 035, 009, 036, 010, 039, 009, 038, 013, 040, 011, 040, 012, 040, 009, 044, 011, 043, 012, 044, 010, 045, 013, 043, 012, 047, 012, 046, 013, 045, 012, 052}, 
        {013, 049, 012, 050, 014, 052, 014, 050, 016, 056, 014, 054, 013, 051, 015, 052, 014, 058, 012, 055, 014, 056, 015, 059, 016, 055, 014, 056, 016, 060, 015, 058, 016, 060, 015, 059, 016, 060, 016, 057, 016, 062, 015, 062, 015, 061, 017, 068, 016, 062}, 
        {015, 068, 015, 067, 017, 069, 016, 064, 016, 066, 018, 069, 017, 071, 017, 065, 016, 064, 016, 070, 017, 068, 018, 069, 017, 071, 018, 068, 019, 072, 018, 068, 016, 069, 014, 068, 019, 069, 015, 071, 018, 067, 016, 069, 020, 073, 018, 072, 013, 071}, 
        {018, 069, 017, 069, 016, 077, 020, 069, 015, 070, 017, 070, 017, 071, 018, 070, 017, 071, 015, 067, 016, 075, 018, 074, 017, 069, 018, 066, 018, 071, 017, 070, 017, 070, 017, 069, 018, 070, 016, 064, 017, 067, 015, 068, 015, 070, 017, 070, 016, 066}, 
        {015, 066, 015, 067, 016, 066, 017, 063, 013, 065, 015, 064, 015, 060, 016, 061, 014, 061, 016, 062, 015, 059, 014, 060, 016, 054, 012, 055, 016, 059, 016, 054, 015, 052, 015, 054, 016, 052, 013, 056, 012, 050, 013, 051, 014, 051, 011, 049, 012, 047}, 
        {012, 051, 013, 047, 012, 050, 014, 048, 010, 049, 013, 044, 011, 045, 012, 046, 012, 043, 011, 044, 011, 043, 007, 039, 010, 040, 010, 042, 008, 036, 008, 041, 009, 036, 010, 036, 010, 036, 008, 033, 010, 032, 007, 033, 009, 030, 011, 030, 008, 030}, 
        {008, 030, 010, 029, 008, 026, 009, 030, 007, 030, 003, 005, 003, 006, 003, 007, 004, 008, 003, 007, 003, 007, 004, 007, 003, 007, 003, 006, 004, 008, 004, 007, 005, 010, 005, 010, 006, 008, 005, 009, 004, 010, 003, 009, 004, 007, 004, 009, 005, 008}, 
        {005, 010, 005, 010, 005, 012, 003, 012, 004, 012, 005, 012, 004, 011, 004, 009, 005, 014, 005, 013, 006, 010, 005, 013, 004, 013, 006, 012, 006, 013, 006, 015, 005, 013, 004, 014, 006, 013, 006, 014, 008, 015, 006, 015, 008, 014, 007, 015, 004, 016}, 
        {008, 013, 006, 015, 005, 015, 005, 014, 007, 014, 006, 015, 007, 015, 006, 015, 007, 018, 006, 016, 006, 016, 006, 018, 007, 017, 008, 016, 007, 015, 008, 016, 008, 017, 008, 015, 006, 022, 007, 017, 008, 022, 007, 018, 006, 018, 006, 022, 007, 017}, 
        {007, 019, 005, 018, 006, 018, 005, 018, 007, 017, 008, 017, 006, 018, 006, 018, 007, 017, 008, 019, 006, 019, 007, 023, 005, 019, 009, 022, 008, 019, 007, 017, 007, 021, 008, 020, 007, 017, 006, 016, 006, 018, 007, 016, 008, 021, 007, 022, 006, 021}, 
        {007, 018, 008, 022, 008, 021, 007, 014, 007, 016, 005, 021, 007, 015, 007, 019, 007, 017, 006, 016, 004, 018, 006, 019, 007, 018, 007, 016, 007, 017, 005, 017, 006, 018, 007, 014, 007, 017, 007, 015, 007, 015, 008, 017, 009, 017, 006, 016, 005, 016}, 
        {005, 013, 006, 013, 005, 016, 004, 016, 005, 017, 005, 016, 007, 013, 006, 012, 006, 013, 005, 014, 005, 014, 006, 012, 004, 014, 006, 012, 005, 013, 003, 015, 005, 013, 004, 014, 004, 013, 003, 012, 004, 012, 003, 011, 005, 010, 004, 011, 006, 013}, 
        {003, 008, 002, 010, 004, 011, 003, 008, 004, 010, 003, 010, 005, 010, 004, 006, 004, 009, 004, 008, 002, 010, 003, 010, 003, 006, 004, 010, 003, 006, 003, 010, 003, 006, 005, 022, 005, 023, 006, 027, 006, 026, 006, 026, 008, 027, 006, 028, 007, 031}, 
        {008, 031, 007, 030, 010, 033, 008, 030, 010, 034, 007, 032, 008, 036, 010, 037, 010, 034, 009, 036, 010, 042, 010, 041, 011, 041, 011, 042, 009, 042, 011, 046, 012, 046, 010, 041, 008, 044, 011, 046, 011, 046, 011, 043, 014, 051, 013, 048, 012, 051}, 
        {011, 050, 012, 054, 012, 049, 011, 054, 013, 053, 012, 056, 015, 058, 014, 054, 015, 059, 011, 058, 013, 062, 015, 060, 014, 060, 015, 058, 013, 064, 018, 059, 016, 061, 013, 064, 015, 062, 017, 061, 017, 062, 015, 066, 016, 065, 016, 066, 017, 062}, 
        {017, 067, 017, 067, 015, 065, 015, 065, 015, 069, 017, 067, 017, 068, 016, 071, 018, 071, 018, 074, 016, 070, 014, 067, 016, 075, 017, 071, 018, 073, 018, 071, 019, 064, 015, 072, 017, 070, 014, 071, 018, 075, 017, 074, 018, 073, 017, 077, 018, 074}, 
        {017, 074, 016, 070, 017, 075, 021, 071, 018, 072, 017, 070, 016, 071, 017, 073, 015, 073, 016, 069, 018, 071, 016, 068, 016, 067, 015, 068, 015, 070, 017, 064, 016, 074, 015, 067, 019, 064, 017, 068, 016, 066, 015, 066, 017, 065, 018, 067, 016, 063}, 
        {015, 069, 014, 060, 015, 059, 013, 063, 016, 064, 014, 062, 015, 061, 014, 064, 015, 060, 013, 059, 015, 063, 016, 058, 011, 053, 013, 060, 014, 056, 015, 055, 014, 051, 013, 059, 015, 054, 012, 056, 012, 052, 011, 051, 011, 050, 015, 052, 015, 052}, 
        {011, 048, 015, 046, 012, 045, 014, 048, 009, 044, 012, 048, 009, 047, 012, 047, 010, 044, 011, 043, 010, 042, 010, 040, 009, 039, 012, 041, 011, 038, 010, 041, 011, 035, 007, 034, 010, 033, 011, 036, 010, 033, 008, 031, 006, 034, 007, 029, 005, 029}, 
        {008, 030, 006, 031, 008, 031, 006, 028, 003, 007, 003, 007, 003, 007, 003, 006, 002, 008, 004, 007, 005, 006, 004, 009, 003, 008, 003, 008, 004, 007, 003, 007, 003, 009, 003, 011, 003, 009, 007, 010, 003, 009, 005, 009, 003, 011, 005, 011, 004, 006}, 
        {005, 010, 005, 010, 005, 011, 005, 012, 008, 011, 006, 011, 006, 012, 004, 012, 006, 012, 005, 012, 005, 012, 006, 015, 006, 012, 006, 012, 006, 013, 005, 015, 005, 012, 005, 015, 007, 014, 006, 015, 006, 016, 006, 012, 004, 013, 006, 018, 007, 014}, 
        {006, 017, 007, 016, 004, 014, 006, 014, 006, 016, 006, 017, 004, 018, 006, 018, 005, 018, 008, 018, 007, 014, 004, 018, 008, 022, 007, 014, 008, 016, 006, 019, 004, 018, 008, 019, 008, 017, 008, 019, 007, 019, 008, 017, 008, 019, 008, 017, 006, 019}, 
        {006, 019, 007, 017, 009, 018, 007, 021, 005, 018, 007, 019, 007, 017, 007, 021, 006, 020, 005, 022, 007, 017, 007, 019, 007, 017, 007, 017, 008, 016, 007, 018, 007, 020, 006, 019, 007, 021, 006, 018, 009, 017, 008, 018, 007, 019, 006, 015, 009, 019}, 
        {008, 021, 006, 019, 006, 017, 007, 018, 005, 018, 006, 018, 007, 017, 006, 018, 008, 017, 005, 018, 006, 016, 006, 017, 005, 017, 007, 017, 007, 017, 004, 017, 006, 019, 005, 016, 008, 017, 006, 017, 008, 013, 007, 016, 006, 015, 005, 015, 006, 016}, 
        {006, 015, 006, 015, 005, 015, 006, 015, 006, 015, 005, 017, 007, 013, 005, 015, 006, 015, 006, 014, 006, 014, 006, 014, 004, 013, 005, 015, 005, 012, 004, 011, 005, 015, 004, 013, 004, 011, 006, 012, 004, 015, 006, 012, 004, 013, 004, 010, 003, 011}, 
        {004, 008, 004, 010, 005, 010, 004, 009, 003, 012, 005, 010, 004, 010, 003, 012, 003, 008, 005, 008, 004, 009, 003, 008, 002, 008, 005, 009, 003, 007, 004, 006, 005, 028, 006, 023, 007, 029, 008, 026, 007, 030, 008, 031, 010, 029, 007, 032, 011, 034}, 
        {008, 032, 008, 034, 009, 033, 009, 032, 008, 036, 010, 036, 010, 034, 011, 034, 010, 036, 011, 040, 010, 040, 012, 040, 010, 042, 013, 045, 014, 045, 011, 044, 013, 046, 012, 043, 015, 047, 012, 050, 014, 050, 013, 045, 014, 046, 018, 048, 013, 048}, 
        {013, 049, 014, 050, 014, 052, 013, 055, 014, 054, 014, 058, 014, 056, 017, 056, 016, 062, 016, 059, 018, 065, 018, 059, 014, 062, 016, 064, 016, 064, 017, 064, 017, 067, 016, 068, 016, 070, 019, 067, 017, 066, 018, 067, 019, 069, 019, 071, 017, 070}, 
        {018, 073, 019, 077, 018, 074, 017, 071, 019, 071, 018, 074, 020, 071, 019, 071, 017, 074, 018, 071, 016, 073, 017, 075, 018, 071, 018, 078, 019, 075, 016, 077, 018, 075, 016, 076, 017, 070, 016, 075, 021, 070, 019, 078, 019, 077, 021, 070, 021, 070}, 
        {019, 074, 018, 077, 019, 069, 018, 076, 020, 077, 022, 073, 018, 067, 018, 071, 019, 076, 016, 071, 021, 072, 017, 070, 018, 072, 018, 073, 019, 069, 017, 074, 017, 075, 018, 071, 018, 070, 016, 071, 021, 073, 015, 074, 018, 067, 018, 068, 017, 070}, 
        {017, 067, 015, 065, 017, 067, 015, 066, 016, 067, 020, 066, 016, 064, 017, 060, 014, 061, 015, 062, 012, 063, 015, 061, 015, 058, 013, 059, 016, 061, 016, 059, 013, 058, 016, 058, 014, 051, 015, 060, 015, 054, 015, 052, 015, 052, 012, 050, 013, 048}, 
        {014, 051, 014, 049, 012, 049, 012, 049, 013, 051, 014, 049, 013, 044, 013, 043, 013, 045, 012, 046, 011, 040, 011, 042, 011, 038, 010, 039, 013, 041, 010, 040, 008, 039, 009, 035, 008, 037, 012, 035, 008, 034, 010, 036, 011, 036, 008, 033, 007, 031}, 
        {008, 029, 007, 029, 005, 028, 000, 006, 003, 006, 002, 005, 002, 004, 003, 006, 001, 007, 004, 007, 002, 006, 002, 007, 003, 006, 004, 007, 002, 006, 003, 007, 002, 007, 003, 009, 004, 011, 003, 009, 003, 009, 003, 010, 003, 009, 004, 010, 003, 008}, 
        {004, 011, 003, 011, 004, 010, 004, 009, 003, 013, 005, 011, 005, 010, 006, 012, 005, 014, 005, 013, 004, 012, 005, 011, 004, 012, 003, 013, 007, 012, 004, 013, 005, 014, 006, 011, 006, 013, 005, 016, 005, 012, 004, 015, 004, 014, 004, 018, 004, 013}, 
        {005, 017, 007, 017, 006, 015, 006, 016, 005, 015, 006, 016, 006, 015, 006, 016, 005, 019, 006, 016, 007, 016, 006, 018, 004, 018, 006, 019, 007, 016, 007, 017, 007, 016, 007, 018, 006, 018, 006, 015, 006, 019, 007, 015, 005, 021, 006, 018, 006, 021}, 
        {007, 018, 009, 019, 006, 019, 006, 016, 007, 017, 006, 021, 006, 020, 006, 019, 007, 018, 005, 019, 006, 016, 005, 016, 006, 021, 005, 020, 007, 020, 007, 021, 008, 015, 006, 019, 008, 018, 005, 019, 005, 018, 006, 017, 006, 018, 006, 014, 005, 019}, 
        {007, 015, 006, 016, 008, 017, 007, 017, 009, 017, 006, 016, 005, 016, 008, 015, 005, 015, 005, 016, 006, 015, 006, 018, 008, 017, 007, 019, 007, 015, 005, 015, 005, 019, 006, 017, 005, 015, 005, 015, 005, 019, 005, 016, 003, 014, 005, 014, 004, 016}, 
        {005, 016, 004, 011, 003, 013, 006, 015, 003, 015, 006, 013, 004, 014, 005, 014, 005, 014, 006, 014, 006, 012, 004, 011, 005, 014, 004, 013, 002, 010, 004, 011, 005, 011, 003, 013, 004, 011, 003, 013, 004, 011, 002, 010, 005, 012, 003, 010, 004, 011}, 
        {003, 010, 003, 010, 004, 009, 003, 008, 003, 011, 002, 008, 004, 011, 003, 009, 003, 008, 004, 007, 002, 007, 004, 006, 002, 007, 004, 007, 002, 006, 005, 028, 008, 024, 006, 028, 007, 031, 007, 029, 011, 029, 008, 029, 007, 028, 013, 032, 008, 035}, 
        {007, 035, 010, 035, 009, 037, 010, 037, 010, 040, 008, 037, 012, 039, 012, 040, 011, 041, 013, 040, 010, 043, 012, 041, 015, 043, 012, 048, 013, 047, 012, 048, 013, 050, 016, 050, 015, 045, 013, 051, 014, 050, 013, 052, 013, 055, 013, 055, 016, 055}, 
        {016, 054, 015, 058, 015, 053, 015, 056, 014, 057, 018, 059, 015, 063, 018, 063, 017, 064, 016, 063, 017, 059, 016, 064, 018, 064, 017, 062, 016, 066, 016, 067, 017, 065, 020, 068, 017, 067, 018, 066, 019, 071, 015, 065, 016, 071, 018, 074, 019, 071}, 
        {019, 069, 018, 070, 017, 075, 019, 070, 018, 067, 020, 073, 017, 070, 018, 076, 019, 069, 020, 071, 019, 074, 017, 077, 021, 078, 016, 073, 018, 072, 018, 077, 020, 076, 019, 079, 020, 075, 016, 069, 019, 075, 021, 075, 018, 080, 019, 071, 016, 075}, 
        {018, 072, 019, 079, 021, 077, 017, 072, 017, 071, 019, 070, 020, 070, 019, 075, 018, 076, 018, 071, 016, 075, 020, 075, 021, 074, 021, 074, 020, 072, 016, 071, 019, 069, 016, 068, 019, 075, 018, 075, 017, 071, 017, 066, 017, 068, 016, 071, 017, 069}
    };

    FILE* pgmimg; 
    pgmimg = fopen("pgmimg.pgm", "wb"); 
  
    // Writing Magic Number to the File 
    fprintf(pgmimg, "P2\n");  
  
    // Writing Width and Height 
    fprintf(pgmimg, "%d %d\n", width, height);  
  
    // Writing the maximum gray value 
    fprintf(pgmimg, "255\n");  
    int count = 0; 
    for (i = 0; i < height; i++) { 
        for (j = 0; j < width; j++) { 
            temp = image[i][j]; 
  
            // Writing the gray values in the 2D array to the file 
            fprintf(pgmimg, "%d ", temp); 
        } 
        fprintf(pgmimg, "\n"); 
    } 
    fclose(pgmimg); 
}